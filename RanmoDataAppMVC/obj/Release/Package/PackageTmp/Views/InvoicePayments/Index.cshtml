@model RanmoDataAppMVC.ViewModels.InvoicePaymentList

@{
    ViewBag.Title = "Invoice Payments";
}

<h2>Invoice Payments  (මේක තාම හදලා ඉවර නෑ) </h2>


@using (Html.BeginForm())
{
    <table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.IPLst[0].ReceiptNo)
            </th>

            <th>
                @Html.DisplayNameFor(model => model.IPLst[0].CustomerName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.IPLst[0].InvoiceNumber)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.IPLst[0].PaymentAmount)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.IPLst[0].InvoiceAmount)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.IPLst[0].InvoicePaymentAmount)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.IPLst[0].RemainingPaymentAmount)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.IPLst[0].RemainingInvoiceAmount)
            </th>
            @*<th>
                    @Html.DisplayNameFor(model => model.IPLst[0].PaymentFullyUsed)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.IPLst[0].InvoiceFullyPaid)
                </th>*@

            <th></th>
        </tr>

        @*FormMethod.Get*@

        @*//foreach (var item in Model)*@
        @for (int i = 0; i < Model.IPLst.Count(); i++)
        {
        <tr>
            <td>
                @*@Html.EditorFor(modelItem => Model.IPLst[i].ReceiptNo)*@
                @Html.DisplayFor(model => Model.IPLst[i].ReceiptNo)
                @Html.HiddenFor(modelItem => Model.IPLst[i].PaymentId)
                @Html.HiddenFor(modelItem => Model.IPLst[i].InvoiceId)

            </td>
            <td>
                @Html.HiddenFor(modelItem => Model.IPLst[i].CustomerId)
                @Html.DisplayFor(modelItem => modelItem.IPLst[i].CustomerName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => Model.IPLst[i].InvoiceNumber)
            </td>
            <td>
                @Html.DisplayFor(modelItem => Model.IPLst[i].PaymentAmount)
            </td>
            <td>
                @Html.DisplayFor(modelItem => Model.IPLst[i].InvoiceAmount)
            </td>
            <td>
                @Html.EditorFor(modelItem => Model.IPLst[i].InvoicePaymentAmount)
            </td>
            <td>
                @Html.DisplayFor(modelItem => Model.IPLst[i].RemainingPaymentAmount)
            </td>
            <td>
                @Html.DisplayFor(modelItem => Model.IPLst[i].RemainingInvoiceAmount)
            </td>
            @*<td>
                    @Html.DisplayFor(modelItem => Model.IPLst[i].PaymentFullyUsed)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => Model.IPLst[i].InvoiceFullyPaid)
                </td>*@

            <td>

                @*<a href="@Url.Action("Edit", "InvoicePayments",
                    new {
                        PaymentId = Model.IPLst[i].PaymentId,
                        InvoiceId = Model.IPLst[i].InvoiceId,
                        ReceiptNo = Model.IPLst[0].ReceiptNo,
                        CustomerId = Model.IPLst[0].CustomerId,
                        CustomerName = Model.IPLst[0].CustomerName,
                        InvoiceNumber = Model.IPLst[0].InvoiceNumber,
                        PaymentAmount = Model.IPLst[0].PaymentAmount,
                        InvoicePaymentAmount = Model.IPLst[i].InvoicePaymentAmount,
                        RemainingPaymentAmount = Model.IPLst[0].RemainingPaymentAmount,
                        RemainingInvoiceAmount = Model.IPLst[0].RemainingInvoiceAmount,
                        PaymentFullyUsed = Model.IPLst[0].PaymentFullyUsed,
                        InvoiceFullyPaid = Model.IPLst[0].InvoiceFullyPaid
                    })" class="btn btn-default"><i class="fa fa-pencil "></i>Edit</a>*@

                @*<button type="button" class="btn btn-success submit">Edit</button>*@
                @*@Html.ActionLink("Edit", "Edit", new {  id=item.PaymentId }) |*@
                @*@Html.ActionLink("Details", "Details", new { /* id=item.PrimaryKey */ }) |
                    @Html.ActionLink("Delete", "Delete", new { /* id=item.PrimaryKey */ })*@
            </td>
        </tr>
        }

    </table>
    <div class="form-group">
        <div class="col-md-offset-2 col-md-10">
            <input type="submit" value="Save All Changes" class="btn btn-success" />
        </div>
    </div>
}
@section scripts {
    <!-- JS includes -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>

    <script src="//ajax.aspnetcdn.com/ajax/jquery.validate/1.11.1/jquery.validate.min.js"></script>
    <script src="//ajax.aspnetcdn.com/ajax/mvc/4.0/jquery.validate.unobtrusive.min.js"></script>
}


